<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="grid-cont">
        <div class="photo-grid"></div>
        </div>



    
    <script>      
    //Calling Storage to bring photos
        let helloMini = 0;
        function printdata(res){
          res.items.forEach((itemsRef) => {
            getDownloadURL(itemsRef).then((url) =>{
                        photoGrid.innerHTML += 
                        `
                        <div class="img-cont-0">
                        <div class="img"><img src="${url}" height="200px" width="200px"  class="img-cont-1"></div>
                        <div class="img-data">
                        <ul>
                        <div class="btn-floating red right"  style="position: relative; right: 0px;"><i class="material-icons download-pw">file_download</i></div>
                        </ul>
                        </div>
                      </div>
                    `
            })
          })
        }
  
  
        function Js(){
          const dbtn = document.getElementsByClassName("download-pw");
          const imgD = document.getElementsByClassName("img-cont-1");
          for(let i = 0;i < dbtn.length ; i++){
            dbtn[i].addEventListener("click" , () => {
              console.log(imgD[i].src);
              saveAs(imgD[i].src , "Image.jpg");
              console.log("Hiii");
            })
          }
        }
  
  
          const Refstore = ref(storage , `Collageum/${user.uid}`);
          let i = 0;
          listAll(Refstore).then((res) => {
            printdata(res);
            setTimeout(Js , 1000);
          })

    </script>
</body>
</html>